(function(){ActiveAdmin.DropdownMenu=function(){function DropdownMenu(options,element){var defaults;this.options=options,this.element=element,this.$element=$(this.element),defaults={fadeInDuration:20,fadeOutDuration:100,onClickActionItemCallback:null},this.options=$.extend(defaults,options),this.isOpen=!1,this.$menuButton=this.$element.find(".dropdown_menu_button"),this.$menuList=this.$element.find(".dropdown_menu_list_wrapper"),this._buildMenuList(),this._bind()}return DropdownMenu.prototype.open=function(){return this.isOpen=!0,this.$menuList.fadeIn(this.options.fadeInDuration),this._position(),this},DropdownMenu.prototype.close=function(){return this.isOpen=!1,this.$menuList.fadeOut(this.options.fadeOutDuration),this},DropdownMenu.prototype.destroy=function(){return this.$element.unbind(),this.$element=null,this},DropdownMenu.prototype.isDisabled=function(){return this.$menuButton.hasClass("disabled")},DropdownMenu.prototype.disable=function(){return this.$menuButton.addClass("disabled")},DropdownMenu.prototype.enable=function(){return this.$menuButton.removeClass("disabled")},DropdownMenu.prototype.option=function(key,value){return $.isPlainObject(key)?this.options=$.extend(!0,this.options,key):null!=key?this.options[key]:this.options[key]=value},DropdownMenu.prototype._buildMenuList=function(){return this.$nipple=$('<div class="dropdown_menu_nipple"></div>'),this.$menuList.prepend(this.$nipple),this.$menuList.hide()},DropdownMenu.prototype._bind=function(){return $("body").click(function(_this){return function(){return _this.isOpen?_this.close():void 0}}(this)),this.$menuButton.click(function(_this){return function(){return _this.isDisabled()||(_this.isOpen?_this.close():_this.open()),!1}}(this))},DropdownMenu.prototype._position=function(){var button_center,button_left,button_right,centered_menu_left,centered_menu_right,menu_center,nipple_center,window_right;return this.$menuList.css("top",this.$menuButton.position().top+this.$menuButton.outerHeight()+10),button_left=this.$menuButton.position().left,button_center=this.$menuButton.outerWidth()/2,button_right=button_left+2*button_center,menu_center=this.$menuList.outerWidth()/2,nipple_center=this.$nipple.outerWidth()/2,window_right=$(window).width(),centered_menu_left=button_left+button_center-menu_center,centered_menu_right=button_left+button_center+menu_center,0>centered_menu_left?(this.$menuList.css("left",button_left),this.$nipple.css("left",button_center-nipple_center)):centered_menu_right>window_right?(this.$menuList.css("right",window_right-button_right),this.$nipple.css("right",button_center-nipple_center)):(this.$menuList.css("left",centered_menu_left),this.$nipple.css("left",menu_center-nipple_center))},DropdownMenu}(),$.widget.bridge("aaDropdownMenu",ActiveAdmin.DropdownMenu),$(function(){return $(".dropdown_menu").aaDropdownMenu()})}).call(this);