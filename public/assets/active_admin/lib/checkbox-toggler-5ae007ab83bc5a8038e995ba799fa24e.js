(function(){ActiveAdmin.CheckboxToggler=function(){function CheckboxToggler(options,container){var defaults;this.options=options,this.container=container,defaults={},this.options=$.extend(defaults,options),this._init(),this._bind()}return CheckboxToggler.prototype._init=function(){if(!this.container)throw new Error("Container element not found");if(this.$container=$(this.container),!this.$container.find(".toggle_all").length)throw new Error('"toggle all" checkbox not found');return this.toggle_all_checkbox=this.$container.find(".toggle_all"),this.checkboxes=this.$container.find(":checkbox").not(this.toggle_all_checkbox)},CheckboxToggler.prototype._bind=function(){return this.checkboxes.change(function(_this){return function(e){return _this._didChangeCheckbox(e.target)}}(this)),this.toggle_all_checkbox.change(function(_this){return function(){return _this._didChangeToggleAllCheckbox()}}(this))},CheckboxToggler.prototype._didChangeCheckbox=function(){switch(this.checkboxes.filter(":checked").length){case this.checkboxes.length-1:return this.toggle_all_checkbox.prop({checked:null});case this.checkboxes.length:return this.toggle_all_checkbox.prop({checked:!0})}},CheckboxToggler.prototype._didChangeToggleAllCheckbox=function(){var setting;return setting=this.toggle_all_checkbox.prop("checked")?!0:null,this.checkboxes.each(function(_this){return function(index,el){return $(el).prop({checked:setting}),_this._didChangeCheckbox(el)}}(this))},CheckboxToggler}(),$.widget.bridge("checkboxToggler",ActiveAdmin.CheckboxToggler)}).call(this);